{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { catchError, map, retry, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class FashionAPIService {\n  constructor(_http) {\n    this._http = _http;\n  }\n  getFashions() {\n    const headers = new HttpHeaders().set(\"Content-Type\", \"text/plain;charset=utf8\");\n    const requestOptions = {\n      headers: headers,\n      responseType: \"text\"\n    };\n    return this._http.get(\"/fashions\", requestOptions).pipe(map(res => JSON.parse(res)), retry(3), catchError(this.handleError));\n  }\n  getFashion(fashionID) {\n    const headers = new HttpHeaders().set(\"Content-Type\", \"text/plain;charset=utf-8\");\n    const requestOptions = {\n      headers: headers,\n      responseType: \"text\"\n    };\n    return this._http.get(\"/fashions/\" + fashionID, requestOptions).pipe(map(res => JSON.parse(res)), retry(3), catchError(this.handleError));\n  }\n  postFashion(aFashion) {\n    const headers = new HttpHeaders().set(\"ContentType\", \"application/json;charset=utf-8\");\n    const requestOptions = {\n      headers: headers,\n      responseType: \"text\"\n    };\n    return this._http.post(\"/fashions\", JSON.stringify(aFashion), requestOptions).pipe(map(res => JSON.parse(res)), retry(3), catchError(this.handleError));\n  }\n  putFashion(afashion) {\n    const headers = new HttpHeaders().set(\"ContentType\", \"application/json;charset=utf-8\");\n    const requestOptions = {\n      headers: headers,\n      responseType: \"text\"\n    };\n    return this._http.put(\"/fashions\", JSON.stringify(afashion), requestOptions).pipe(map(res => JSON.parse(res)), retry(3), catchError(this.handleError));\n  }\n  deleteFashion(fashionId) {\n    const headers = new HttpHeaders().set(\"ContentType\", \"application/json;charset=utf-8\");\n    const requestOptions = {\n      headers: headers,\n      responseType: \"text\"\n    };\n    return this._http.delete(\"/fashions/\" + fashionId, requestOptions).pipe(map(res => JSON.parse(res)), retry(3), catchError(this.handleError));\n  }\n  handleError(error) {\n    return throwError(() => new Error(error.message));\n  }\n}\nFashionAPIService.ɵfac = function FashionAPIService_Factory(t) {\n  return new (t || FashionAPIService)(i0.ɵɵinject(i1.HttpClient));\n};\nFashionAPIService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: FashionAPIService,\n  factory: FashionAPIService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"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","names":["HttpHeaders","catchError","map","retry","throwError","FashionAPIService","constructor","_http","getFashions","headers","set","requestOptions","responseType","get","pipe","res","JSON","parse","handleError","getFashion","fashionID","postFashion","aFashion","post","stringify","putFashion","afashion","put","deleteFashion","fashionId","delete","error","Error","message","factory","providedIn"],"sourceRoot":"","sources":["/home/thanhdev/Documents/Project_Angular/baitap_module06/my-app/src/app/services/fashion-api.service.ts"],"sourcesContent":["import { HttpClient, HttpErrorResponse, HttpHeaders } from\n      '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { catchError, map, Observable, retry, throwError } from 'rxjs';\nimport { Fashion } from '../models/fashion.model';\nimport {IFashion} from \"../models/ifashion\";\nimport {IBook} from \"../models/ibook\";\n@Injectable({\n  providedIn: 'root'\n})\nexport class FashionAPIService {\n  constructor(private _http: HttpClient) { }\n  getFashions():Observable<any>\n  {\n    const headers=new HttpHeaders().set(\"Content-Type\",\"text/plain;charset=utf8\")\n    const requestOptions:Object={\n      headers:headers,\n      responseType:\"text\"\n    }\n    return this._http.get<any>(\"/fashions\",requestOptions).pipe(\n        map(res=>JSON.parse(res) as Array<Fashion>),\n        retry(3),\n        catchError(this.handleError))\n  }\n  getFashion(fashionID:string):Observable<any>\n  {\n    const headers=new HttpHeaders().set(\"Content-Type\",\"text/plain;charset=utf-8\")\n    const requestOptions:Object={\n      headers:headers,\n      responseType:\"text\"\n    }\n    return this._http.get<any>(\"/fashions/\"+fashionID,requestOptions).pipe(\n        map(res=>JSON.parse(res) as IFashion),\n        retry(3),\n        catchError(this.handleError))\n  }\n  postFashion(aFashion:any):Observable<any>\n  {\n    const headers=new HttpHeaders().set(\"ContentType\",\"application/json;charset=utf-8\")\n    const requestOptions:Object={\n      headers:headers,\n      responseType:\"text\"\n    }\n    return this._http.post<any>(\"/fashions\",JSON.stringify(aFashion),requestOptions).pipe(\n        map(res=>JSON.parse(res) as Fashion),\n        retry(3),\n        catchError(this.handleError))\n  }\n  putFashion(afashion:any):Observable<any>\n  {\n    const headers=new HttpHeaders().set(\"ContentType\",\"application/json;charset=utf-8\")\n    const requestOptions:Object={\n      headers:headers,\n      responseType:\"text\"\n    }\n    return this._http.put<any>(\"/fashions\",JSON.stringify(afashion),requestOptions).pipe(\n        map(res=>JSON.parse(res) as Array<IFashion>),\n        retry(3),\n        catchError(this.handleError))\n  }\n  deleteFashion(fashionId:string):Observable<any>\n  {\n    const headers=new HttpHeaders().set(\"ContentType\",\"application/json;charset=utf-8\")\n    const requestOptions:Object={\n      headers:headers,\n      responseType:\"text\"\n    }\n    return this._http.delete<any>(\"/fashions/\"+fashionId,requestOptions).pipe(\n        map(res=>JSON.parse(res) as Array<IFashion>),\n        retry(3),\n        catchError(this.handleError))\n  }\n  handleError(error:HttpErrorResponse){\n    return throwError(()=>new Error(error.message))\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}