{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { catchError, map, retry, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class FashionAPIService {\n  constructor(_http) {\n    this._http = _http;\n  }\n  getFashions() {\n    const headers = new HttpHeaders().set(\"Content-Type\", \"text/plain;charset=utf8\");\n    const requestOptions = {\n      headers: headers,\n      responseType: \"text\"\n    };\n    return this._http.get(\"/fashions\", requestOptions).pipe(map(res => JSON.parse(res)), retry(3), catchError(this.handleError));\n  }\n  handleError(error) {\n    return throwError(() => new Error(error.message));\n  }\n}\nFashionAPIService.ɵfac = function FashionAPIService_Factory(t) {\n  return new (t || FashionAPIService)(i0.ɵɵinject(i1.HttpClient));\n};\nFashionAPIService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: FashionAPIService,\n  factory: FashionAPIService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAAA,SAAwCA,WAAW,QAC7C,sBAAsB;AAE5B,SAASC,UAAU,EAAEC,GAAG,EAAcC,KAAK,EAAEC,UAAU,QAAQ,MAAM;;;AAKrE,OAAM,MAAOC,iBAAiB;EAC5BC,YAAoBC,KAAiB;IAAjB,UAAK,GAALA,KAAK;EAAgB;EACzCC,WAAW;IAET,MAAMC,OAAO,GAAC,IAAIT,WAAW,EAAE,CAACU,GAAG,CAAC,cAAc,EAAC,yBAAyB,CAAC;IAC7E,MAAMC,cAAc,GAAQ;MAC1BF,OAAO,EAACA,OAAO;MACfG,YAAY,EAAC;KACd;IACD,OAAO,IAAI,CAACL,KAAK,CAACM,GAAG,CAAM,WAAW,EAACF,cAAc,CAAC,CAACG,IAAI,CACvDZ,GAAG,CAACa,GAAG,IAAEC,IAAI,CAACC,KAAK,CAACF,GAAG,CAAmB,CAAC,EAC3CZ,KAAK,CAAC,CAAC,CAAC,EACRF,UAAU,CAAC,IAAI,CAACiB,WAAW,CAAC,CAAC;EACnC;EACAA,WAAW,CAACC,KAAuB;IACjC,OAAOf,UAAU,CAAC,MAAI,IAAIgB,KAAK,CAACD,KAAK,CAACE,OAAO,CAAC,CAAC;EACjD;;AAhBWhB,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;SAAjBA,iBAAiB;EAAAiB,SAAjBjB,iBAAiB;EAAAkB,YAFhB;AAAM","names":["HttpHeaders","catchError","map","retry","throwError","FashionAPIService","constructor","_http","getFashions","headers","set","requestOptions","responseType","get","pipe","res","JSON","parse","handleError","error","Error","message","factory","providedIn"],"sourceRoot":"","sources":["/home/thanhdev/Documents/Project_Angular/baitap_module06/my-app/src/app/services/fashion-api.service.ts"],"sourcesContent":["import { HttpClient, HttpErrorResponse, HttpHeaders } from\n      '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { catchError, map, Observable, retry, throwError } from 'rxjs';\nimport { Fashion } from '../models/fashion.model';\n@Injectable({\n  providedIn: 'root'\n})\nexport class FashionAPIService {\n  constructor(private _http: HttpClient) { }\n  getFashions():Observable<any>\n  {\n    const headers=new HttpHeaders().set(\"Content-Type\",\"text/plain;charset=utf8\")\n    const requestOptions:Object={\n      headers:headers,\n      responseType:\"text\"\n    }\n    return this._http.get<any>(\"/fashions\",requestOptions).pipe(\n        map(res=>JSON.parse(res) as Array<Fashion>),\n        retry(3),\n        catchError(this.handleError))\n  }\n  handleError(error:HttpErrorResponse){\n    return throwError(()=>new Error(error.message))\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}